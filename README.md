# UAV Flight Data Parser and Analytics

## О проекте

Данный проект предназначен для приема, парсинга, хранения и аналитики данных о полетах беспилотных летательных аппаратов (БПЛА) на территории России. Он обеспечивает надежную и универсальную обработку данных из различных исходных форматов, устранение дубликатов, хранение в PostGIS с геопространственными координатами и продвинутую агрегацию статистики по регионам и датам.

Проект полезен для органов контроля, операторов БПЛА, исследователей и аналитиков, которым требуется точная и свежая информация о режиме и статусе полетов.

## Основные возможности

- Поддержка синхронного и пакетного парсинга данных из текстовых, Excel и архивных форматов
- Унификация и валидирование структуры полетов с агрегацией регистрационных номеров, операторов и других данных
- Гибкая система дедупликации с upsert-логикой по уникальным ключам
- Геопространственное хранение координат вылета и прилёта с автоматическим определением регионов
- Агрегация статистики полетов по дням, месяцам и регионам с поддержкой отчетных функций
- Выдача готовых JSON-отчетов с детализацией и справочной информацией (города, аэропорты, карты)

## Технологии и инструменты

- СУБД: PostgreSQL с расширением PostGIS для геоданных
- Backend: Node.js с Fastify и TypeScript
- API взаимодействие с Supabase для управления БД
- Строгая типизация моделей FlightUnified
- Использование JSONB для хранения операторских и мета-данных

## Начало работы

### Требования

- PostgreSQL 13+ с PostGIS 3+
- Node.js 18+
- Доступ к Supabase или собственной PostgreSQL базе

### Установка

1. Клонировать репозиторий

```bash
git clone <URL вашего репозитория>
cd <папка репозитория>
```

2. Установить зависимости

```bash
npm install
```

3. Настроить переменные окружения `.env` с параметрами подключения к базе и серверу

4. Запустить сервис

```bash
npm start
```

### Использование

- Загрузить данные через API эндпоинты для парсинга и обработки сообщений
- Использовать функции UPSERT для обновления записей с уникальным `dedup_key`
- Выполнять запросы к материализованным видам и функциям отчётности для аналитики

## Структура проекта

- `/src` — исходные коды парсера и серверного API
- `/db` — скрипты создания таблиц, индексов, функций, триггеров
- `/docs` — документация и спецификации API

## Как внести вклад

- Оформляйте изменения через Pull Requests
- Запускайте все тесты перед публикацией
- Описывайте проблемы и предложения через GitHub Issues

## Контакты

- Разработчик: [Александр / MKDGroup]
- Email: tsapkovalexander@gmail.com
- GitHub: @tsapkovalexander

## Лицензия

Проект распространяется под лицензией MIT License.
